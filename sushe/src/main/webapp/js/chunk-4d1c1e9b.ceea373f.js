(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4d1c1e9b"],{"7f06":function(t,s,a){"use strict";a("a048")},9848:function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"wrapper"},[s("div",{staticClass:"carousel-con"},[s("el-carousel",{attrs:{height:"720px",interval:5e3,arrow:"always"}},t._l(t.listJiaodiantu,(function(a,e){return s("el-carousel-item",{key:e},[s("img",{staticClass:"image",attrs:{src:t.hostHead+a.tupian}})])})),1)],1),s("div",{staticClass:"login-content"},[s("div",{staticStyle:{"margin-top":"120px"}},[s("div",{staticClass:"row align-items-center justify-content-center h-100"},[s("div",{staticClass:"col-md-10"},[s("div",{staticClass:"card p-3"},[s("div",{staticClass:"card-body"},[s("h3",{staticClass:"mb-3 font-weight-bold text-center"},[t._v("宿舍管理系统")]),s("p",{staticClass:"text-center text-secondary mb-4"}),t._m(0),s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-12"},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"text-secondary"},[t._v("用户名")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{tabindex:"1",type:"text",placeholder:"请输入账户"},domProps:{value:t.username},on:{input:function(s){s.target.composing||(t.username=s.target.value)}}})])]),s("div",{staticClass:"col-lg-12 mt-2"},[s("div",{staticClass:"form-group"},[t._m(1),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{tabindex:"2",type:"password",placeholder:"输入密码"},domProps:{value:t.password},on:{input:function(s){s.target.composing||(t.password=s.target.value)}}})])]),s("div",{staticClass:"col-lg-12 mt-2"},[s("div",{staticClass:"form-group"},[t._m(2),s("el-radio-group",{attrs:{tabindex:"3"},model:{value:t.usertype,callback:function(s){t.usertype=s},expression:"usertype"}},[s("el-radio-button",{attrs:{label:4}},[t._v("学生")]),s("el-radio-button",{attrs:{label:2}},[t._v("宿管员")]),s("el-radio-button",{attrs:{label:1}},[t._v("管理员")])],1)],1)])]),s("el-button",{attrs:{type:"primary"},on:{click:t.login}},[t._v("登录")]),s("div",{staticClass:"col-lg-12 mt-3"},[s("p",{staticClass:"mb-0 text-center"},[s("router-link",{attrs:{to:"/register"}},[t._v("注册")])],1)])],1)])])])])])])},i=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"mb-5"},[s("p",{staticClass:"line-around text-secondary mb-0"},[s("span",{staticClass:"line-around-1"},[t._v("用户登录")])])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"d-flex justify-content-between align-items-center"},[s("label",{staticClass:"text-secondary"},[t._v("密码")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"d-flex justify-content-between align-items-center"},[s("label",{staticClass:"text-secondary"},[t._v("用户类型")])])}],o={data(){return{hostHead:this.$app.contextPath,username:"",password:"",usertype:1,listJiaodiantu:[]}},methods:{async login(){console.log("登录");let{data:t}=await this.$http.post("/admin/login",{username:this.username,password:this.password,usertype:this.usertype});if(null!=t&&t.stateCode<=0)this.$alert(t.des,"系统提示",{confirmButtonText:"确定"});else{if(console.log("服务器返回",t),1==this.usertype||2==this.usertype||3==this.usertype){let s=this.$app.mycas.users_key;console.log("服务端返回数据",t.data),this.$app.mycas.login(s,t.data),window.sessionStorage.removeItem(this.$app.mycas.huiyuan_key),this.$router.push("/admin/index")}if(4==this.usertype){let s=this.$app.mycas.huiyuan_key;this.$app.mycas.login(s,t.data),window.sessionStorage.removeItem(this.$app.mycas.users_key),this.$router.push("/huiyuan/index")}}},getJiaodiantu(){let t="/admin/jiaodiantu/list";this.$http.post(t,{ispaged:"-1"}).then(t=>{this.listJiaodiantu=t.data.data})}},created(){this.getJiaodiantu()}},n=o,r=(a("7f06"),a("2877")),l=Object(r["a"])(n,e,i,!1,null,"446b230c",null);s["default"]=l.exports},a048:function(t,s,a){}}]);
//# sourceMappingURL=chunk-4d1c1e9b.ceea373f.js.map