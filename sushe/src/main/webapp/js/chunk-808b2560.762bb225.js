(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-808b2560","chunk-2e21f487","chunk-2d0e5f56","chunk-2d0bd786","chunk-2d0a31e4","chunk-2d0e19df"],{"018e":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("li",[e("span",{class:{itext:!0,"has-arrow":!0,active:t.show},on:{click:function(e){return t.collapseHandler()}}},[e("i",{class:t.icon}),t._v(t._s(t.text)+" ")]),e("ul",{staticClass:"mymenu1"},[t._t("default")],2)])},n=[],i={name:"MySubmenu",data(){return{key:"",show:!1}},props:{icon:{type:String,default:"flaticon-381-networking"},text:{type:String,default:"菜单标题"}},created(){let t=this.getMenu();this.key=0,null!=t&&(this.key=t.items.length+1,1==this.key&&(this.show=!0),t.items.push({text:this.text,icon:this.icon,show:this.show,key:this.key}))},methods:{collapseHandler(){let t=this.getMenu();null!=t&&null!=t.items&&t.items.forEach(t=>{t.key==this.key?(this.show=!this.show,t.show=this.show):t.show=!1})},getMenu(t="MyMenu"){let e=this.$parent,a=e.$options.name;while(a!==t){if(e=e.$parent,!e)return!1;a=e.$options.name}return e}}},r=i,l=a("2877"),o=Object(l["a"])(r,s,n,!1,null,"d6534fdc",null);e["default"]=o.exports},"2baa":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("li",[e("span",{staticClass:"itext",on:{click:function(e){return t.selectedHandler()}}},[t._t("default")],2)])},n=[],i=a("2b0e"),r=a("8c4f");i["default"].use(r["a"]);var l={name:"MySubmenItem",methods:{selectedHandler(){null!=this.url&&this.$route.path!=this.url&&this.$router.push(this.url)}},props:{url:{type:String}}},o=l,u=a("2877"),c=Object(u["a"])(o,s,n,!1,null,"3f9a31fc",null);e["default"]=c.exports},"34d2":function(t,e,a){"use strict";a("9693")},6838:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",[e("phead"),e("div",{staticClass:"pbody",staticStyle:{"min-height":"884px"}},[e("div",{staticClass:"sidebar"},[e("div",{staticClass:"addmenu"},[t._v("系统功能")]),e("my-menu",[2==t.accountInfo.roleid?e("my-submenu",{attrs:{icon:"flaticon-381-settings-2",text:"订水管理"}},[e("my-submen-item",{attrs:{url:"/admin/shangpinmanager"}},[t._v("宿舍服务")]),e("my-submen-item",{attrs:{url:"/admin/shangpinadd"}},[t._v("新增服务")]),e("my-submen-item",{attrs:{url:"/admin/spcategorymanager"}},[t._v("服务类型管理")]),e("my-submen-item",{attrs:{url:"/admin/appointordermanager"}},[t._v("订单管理")])],1):t._e(),2==t.accountInfo.roleid?e("my-submenu",{attrs:{icon:"flaticon-381-settings-2",text:"宿舍管理"}},[e("my-submen-item",{attrs:{url:"/admin/huiyuanmanager"}},[t._v("学生管理")]),e("my-submen-item",{attrs:{url:"/admin/loudongmanager"}},[t._v("宿舍楼管理")]),e("my-submen-item",{attrs:{url:"/admin/bunitmanager"}},[t._v("宿舍管理")]),e("my-submen-item",{attrs:{url:"/admin/sstypemanager"}},[t._v("宿舍类别管理")]),e("my-submen-item",{attrs:{url:"/admin/tiaosumanager"}},[t._v("宿舍申请管理")]),e("my-submen-item",{attrs:{url:"/admin/baoxiumanager"}},[t._v("报修管理")]),e("my-submen-item",{attrs:{url:"/admin/pingfenguide"}},[t._v("宿舍评分")]),e("my-submen-item",{attrs:{url:"/admin/pfstat"}},[t._v("评分统计")]),e("my-submen-item",{attrs:{url:"/admin/chafangmanager"}},[t._v("查房管理")]),e("my-submen-item",{attrs:{url:"/admin/chafangadd"}},[t._v("查房登记")])],1):t._e(),e("my-submenu",{attrs:{icon:"flaticon-381-layer-1",text:"基础信息"}},[e("my-submen-item",{attrs:{url:"/admin/ssstat"}},[t._v("入住统计")]),2==t.accountInfo.roleid?e("my-submen-item",{attrs:{url:"/admin/lanmumanager"}},[t._v("栏目管理")]):t._e(),2==t.accountInfo.roleid?e("my-submen-item",{attrs:{url:"/admin/xinximanager"}},[t._v("资讯管理")]):t._e(),2==t.accountInfo.roleid?e("my-submen-item",{attrs:{url:"/admin/noticemanager"}},[t._v("系统公告")]):t._e(),2==t.accountInfo.roleid?e("my-submen-item",{attrs:{url:"/admin/xinxiadd"}},[t._v("发布资讯")]):t._e(),2==t.accountInfo.roleid?e("my-submen-item",{attrs:{url:"/admin/jiaodiantumanager"}},[t._v("轮播图设置")]):t._e(),2==t.accountInfo.roleid?e("my-submen-item",{attrs:{url:"/admin/leavewordmanager"}},[t._v("留言管理")]):t._e()],1),1==t.accountInfo.roleid?e("my-submenu",{attrs:{icon:"flaticon-381-layer-1",text:"用户管理"}},[e("my-submen-item",{attrs:{url:"/admin/huiyuanmanager"}},[t._v("学生管理")]),e("my-submen-item",{attrs:{url:"/admin/banjimanager"}},[t._v("班级管理")]),e("my-submen-item",{attrs:{url:"/admin/usersmanager"}},[t._v("系统用户管理")]),e("my-submen-item",{attrs:{url:"/admin/sysrolemanager"}},[t._v("角色管理")]),e("my-submen-item",{attrs:{url:"/admin/usersadd"}},[t._v("新增管理用户")])],1):t._e(),e("my-submenu",{attrs:{icon:"flaticon-381-television",text:"账户设置"}},[e("my-submen-item",{attrs:{url:"/admin/accountinfo"}},[t._v("账户信息")]),e("my-submen-item",{attrs:{url:"/admin/modifypw"}},[t._v("密码设置")]),e("my-submen-item",{attrs:{url:"/admin/modifyinfo"}},[t._v("编辑账户")])],1)],1)],1),e("div",{staticClass:"page-wrapper"},[e("router-view",{attrs:{accountInfo:t.accountInfo}})],1)])],1)},n=[],i=a("6b57"),r=a("9768"),l=a("018e"),o=a("2baa"),u={name:"index",data(){return{accountInfo:{}}},methods:{},created(){this.accountInfo=this.$app.mycas.getAccount(this.$app.mycas.users_key)},components:{MySubmenItem:o["default"],MySubmenu:l["default"],MyMenu:r["default"],Phead:i["default"]}},c=u,m=a("2877"),d=Object(m["a"])(c,s,n,!1,null,"fe9a0048",null);e["default"]=d.exports},"6b57":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"phead"},[t._m(0),e("div",{staticClass:"hcontent"},[t._m(1),e("div",{staticClass:"cright"},[e("ul",{staticClass:"navbar-nav"},[e("li",{staticClass:"nav-item"},[e("el-dropdown",{staticClass:"user-name",attrs:{trigger:"click"}},[e("span",{staticClass:"el-dropdown-link",staticStyle:{color:"#0f0f0f"}},[t._v(" "+t._s(t.accountInfo.username)+"("+t._s(t.accountInfo.rolename)+") "),e("i",{staticClass:"el-icon-caret-bottom"})]),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e("el-dropdown-item",{nativeOn:{click:function(e){return t.accountHandler.apply(null,arguments)}}},[t._v("用户信息")]),e("el-dropdown-item",{nativeOn:{click:function(e){t.modifypwdlg=!0}}},[t._v("修改密码")]),e("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(e){return t.exitHandler.apply(null,arguments)}}},[t._v("退出登录")])],1)],1)],1)])])])]),e("el-dialog",{attrs:{title:"账户密码设置","close-on-click-modal":!1,visible:t.modifypwdlg},on:{"update:visible":function(e){t.modifypwdlg=e}}},[e("table",{staticClass:"smart-table",attrs:{cellspacing:"1",border:"1",cellpadding:"0",width:"100%"}},[e("tr",[e("td",{staticClass:"tlabel",attrs:{align:"right"}},[t._v("原始密码 :")]),e("td",{attrs:{align:"left"}},[e("el-input",{attrs:{"prefix-icon":"el-icon-lock",type:"password",placeholder:"请输入原始密码",clearable:""},model:{value:t.password1,callback:function(e){t.password1=e},expression:"password1"}})],1)]),e("tr",[e("td",{staticClass:"tlabel",attrs:{align:"right"}},[t._v("修改密码 :")]),e("td",{attrs:{align:"left"}},[e("el-input",{attrs:{"prefix-icon":"el-icon-lock",type:"password",placeholder:"请输入修改密码",clearable:""},model:{value:t.repassword1,callback:function(e){t.repassword1=e},expression:"repassword1"}})],1)]),e("tr",[e("td",{staticClass:"tlabel",attrs:{align:"right"}},[t._v("确认密码 :")]),e("td",{attrs:{align:"left"}},[e("el-input",{attrs:{"prefix-icon":"el-icon-lock",type:"password",placeholder:"请输入确认密码",clearable:""},model:{value:t.repassword2,callback:function(e){t.repassword2=e},expression:"repassword2"}})],1)])]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"primary"},on:{click:t.modifyHandler}},[t._v("确 定")]),e("el-button",{on:{click:function(e){t.modifypwdlg=!1}}},[t._v("取 消")])],1)])],1)},n=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"brand-logo"},[e("a",{attrs:{href:"#"}},[e("img",{attrs:{src:a("7acb")}})]),e("div",{staticClass:"sys-title"},[t._v(" 宿舍管理系统 ")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"cleft"},[e("div",{staticClass:"title"})])}],i={name:"phead",data(){return{accountInfo:{},modifypwdlg:!1,password1:"",repassword1:"",repassword2:""}},methods:{async exitHandler(){let t=await this.$confirm("确定要退出?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0});console.log(t),this.$app.mycas.logout(this.$app.mycas.users_key),this.$router.push("/admin/login")},async modifyHandler(){let t="admin/users/modifypw";if(""==this.password1)return void this.$message.error("请输入原始密码");if(""==this.repassword1)return void this.$message.error("请输入修改密码");if(""==this.repassword2)return void this.$message.error("请输入确认密码");if(this.repassword1!=this.repassword2)return void this.$message.error("两次密码不一致");if(null==this.accountInfo.id||""==this.accountInfo.id)return void this.$message.error("账户非法");let{data:e}=await this.$http.post(t,{id:this.accountInfo.id,password1:this.password1,repassword1:this.repassword1});null!=e&&e.stateCode<0?this.$message.error(e.des):(this.$message.success("修改成功"),this.modifypwdlg=!1)},accountHandler(){this.$router.push("/admin/accountinfo")}},created(){this.accountInfo=this.$app.mycas.getAccount(this.$app.mycas.users_key)}},r=i,l=(a("34d2"),a("2877")),o=Object(l["a"])(r,s,n,!1,null,"c39b658e",null);e["default"]=o.exports},"7acb":function(t,e){t.exports="data:image/png;base64,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"},9693:function(t,e,a){},9768:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("ul",{staticClass:"mymenu1"},[t._t("default")],2)},n=[],i={name:"MyMenu",data(){return{items:[]}},watch:{items:{handler(t,e){let a=this.getSubmenus();if(console.log("newVal=",e),null!=e)for(let s=0;s<e.length;s++)a[s].show=e[s].show},immediate:!0,deep:!0}},methods:{getSubmenus(){let t=[];if(null!=t&&this.$children.length>0)for(let e=0;e<this.$children.length;e++){let a=this.$children[e].$options.name;"MySubmenu"==a&&t.push(this.$children[e])}return t}}},r=i,l=a("2877"),o=Object(l["a"])(r,s,n,!1,null,"78c635fc",null);e["default"]=o.exports}}]);
//# sourceMappingURL=chunk-808b2560.762bb225.js.map